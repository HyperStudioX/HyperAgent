# HyperAgent API Configuration

# ============================================================
# Environment
# ============================================================
DEBUG=false
ENVIRONMENT=development

# ============================================================
# LLM Providers (at least one required)
# ============================================================
# Anthropic API key (for Claude models)
ANTHROPIC_API_KEY=

# OpenAI API key (for GPT models, DALL-E, Whisper, TTS)
OPENAI_API_KEY=

# Google Gemini API key
GEMINI_API_KEY=

# Default Provider (anthropic, openai, or gemini)
DEFAULT_PROVIDER=anthropic

# ============================================================
# Default Models (legacy - used when tier is not specified)
# ============================================================
DEFAULT_MODEL_ANTHROPIC=claude-sonnet-4-20250514
DEFAULT_MODEL_OPENAI=gpt-4o
DEFAULT_MODEL_GEMINI=gemini-2.5-flash

# ============================================================
# Model Tier Configuration
# ============================================================
# The tier system automatically selects models based on task complexity:
# - MAX tier: Research, writing, complex reasoning tasks
# - PRO tier: Chat, code assistance, data analysis
# - FLASH tier: Routing decisions, quick summaries, simple tasks
#
# Users can override the auto-selection via the UI or API.
# Leave blank to use defaults defined in config.py

# Tier-specific providers (which provider to use for each tier)
# This allows you to mix providers based on task complexity
# Examples:
#   - Use Anthropic for MAX tier (Claude Opus for complex tasks)
#   - Use OpenAI for PRO tier (GPT-4o-mini for balanced tasks)
#   - Use Gemini for FLASH tier (Gemini Flash for quick tasks)
TIER_MAX_PROVIDER=anthropic
TIER_PRO_PROVIDER=anthropic
TIER_FLASH_PROVIDER=anthropic

# MAX Tier Models (Complex tasks requiring deep reasoning)
TIER_MAX_ANTHROPIC=claude-opus-4-20250514
TIER_MAX_OPENAI=gpt-4o
TIER_MAX_GEMINI=gemini-2.5-pro

# PRO Tier Models (Balanced general-purpose tasks)
TIER_PRO_ANTHROPIC=claude-sonnet-4-20250514
TIER_PRO_OPENAI=gpt-4o-mini
TIER_PRO_GEMINI=gemini-2.5-flash

# FLASH Tier Models (Quick, cost-efficient tasks)
TIER_FLASH_ANTHROPIC=claude-3-5-haiku-20241022
TIER_FLASH_OPENAI=gpt-4o-mini
TIER_FLASH_GEMINI=gemini-2.0-flash

# ============================================================
# Multimodal Services - Gemini Only
# ============================================================

# --- Image Understanding (Vision) ---
VISION_MODEL=gemini-2.5-flash

# --- Image Generation (Imagen) ---
IMAGE_GEN_MODEL=imagen-3.0-generate-001
IMAGE_GEN_DEFAULT_SIZE=1024x1024
IMAGE_GEN_SAFETY_FILTER=block_some  # block_none, block_some, block_most

# --- Audio Transcription ---
AUDIO_TRANSCRIPTION_MODEL=gemini-2.0-flash-exp

# --- Audio Text-to-Speech (TTS) ---
AUDIO_TTS_MODEL=gemini-2.0-flash-exp
AUDIO_TTS_VOICE=Puck  # Options: Puck, Charon, Kore, Fenrir, Aoede

# ============================================================
# Database & Cache
# ============================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/hyperagent
REDIS_URL=redis://localhost:6379

# ============================================================
# File Storage
# ============================================================
# Backend: "local" for development (stores files in ./uploads), "r2" for production (Cloudflare R2)
STORAGE_BACKEND=local
LOCAL_STORAGE_PATH=./uploads

# Cloudflare R2 Storage (only needed if STORAGE_BACKEND=r2)
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=hyperagent
R2_ENDPOINT_URL=

# ============================================================
# LangGraph Configuration
# ============================================================
# Maximum recursion depth for graph execution (default: 25)
LANGGRAPH_RECURSION_LIMIT=25

# ============================================================
# ReAct Loop Configuration
# ============================================================
# Maximum number of tool-calling iterations (default: 5)
# Controls how many times the agent can call tools in a single turn
REACT_MAX_ITERATIONS=5

# ============================================================
# Sandbox Provider
# ============================================================
# Which sandbox backend to use: "e2b" (cloud) or "boxlite" (local Docker)
SANDBOX_PROVIDER=e2b

# ============================================================
# E2B Cloud Sandbox (used when SANDBOX_PROVIDER=e2b)
# ============================================================
# E2B Sandbox API key (required for code execution agent)
E2B_API_KEY=

# Optional: Custom E2B template ID with pre-installed packages
E2B_TEMPLATE_ID=

# ============================================================
# BoxLite Local Sandbox (used when SANDBOX_PROVIDER=boxlite)
# ============================================================
# Requires: pip install 'hyperagent-api[local-sandbox]'
# Docker images for each sandbox type
BOXLITE_CODE_IMAGE=python:3.12-slim
BOXLITE_DESKTOP_IMAGE=boxlite/desktop:latest
BOXLITE_APP_IMAGE=node:20-slim

# Container resource limits
BOXLITE_CPUS=2
BOXLITE_MEMORY_MIB=1024
BOXLITE_DISK_SIZE_GB=4

# Working directory inside containers
BOXLITE_WORKING_DIR=/home/user

# Default browser in desktop containers (chromium-browser for webtop image)
BOXLITE_DESKTOP_DEFAULT_BROWSER=chromium-browser

# Timeouts (seconds)
BOXLITE_CODE_TIMEOUT=300
BOXLITE_DESKTOP_TIMEOUT=900

# Auto-remove containers on cleanup
BOXLITE_AUTO_REMOVE=true

# Starting host port for app sandbox port forwarding
BOXLITE_APP_HOST_PORT_START=10000

# ============================================================
# Search & Tools
# ============================================================
# Tavily API key (required for web search functionality)
TAVILY_API_KEY=

# ============================================================
# Rate Limiting
# ============================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=30

# ============================================================
# Logging
# ============================================================
LOG_LEVEL=INFO
LOG_FORMAT=console

# ============================================================
# CORS Configuration
# ============================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5000,http://localhost:3000

# ============================================================
# Authentication
# ============================================================
NEXTAUTH_SECRET=
GOOGLE_CLIENT_ID=
AUTH_ENABLED=true
